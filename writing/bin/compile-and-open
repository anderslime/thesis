#!/usr/bin/env bash
function compile_latex {
  pdflatex -shell-escape -halt-on-error -interaction nonstopmode thesis.tex
}

function compile_with_notifications {
  terminal-notifier -title 'Compiling your LaTeX' -message '🤓 🚀 '
  compile_latex && compile_latex
  local latexstatus=$?
  if [ $latexstatus -eq 0 ]; then
    terminal-notifier -execute "open ~/thesis/writing/thesis.pdf" -title '✅ Your PDF is ready!' -message 'Click here to see it 📄 '
  else
    terminal-notifier -title '‼️  Error on LaTeX compilation!' -message 'Your document was not compiled ‼️ 🙃 '
  fi
}
compile_with_notifications
